<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title>controller布局2</title>
	<meta name="renderer" content="webkit">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
	<link rel="stylesheet" href="/package/layui-2.2.5/css/layui.css">
	<script type="text/javascript" src="/package/layui-2.2.5/layui.all.js"></script>
	<script type="text/javascript" src="/package/jquery-3.3.1/jquery-3.3.1.min.js"></script>
	<script type="text/javascript" src="/package/echarts.min.js"></script>
	<script type="text/javascript" src="/javaScript/universal.js"></script>
	<style type="text/css">
		.layui-fluid {
			width: 100%;
			height: 100vh;
			margin: 0;
			padding: 0;
			overflow: hidden;
		}

		.layui-event > div {
			border: 1px red solid;
		}

		.controller1_content_one_one {
			height: 160px;
		}

		.controller1_content_two_one {
			height: calc(100vh - 378px)
		}

		.controller1_content_two_two {
			height: calc(100vh - 378px)
		}

		.controller1_content_three_one {
			height: 180px;
		} 
	</style>
	<script type="text/javascript">
		
	</script>
</head>
<body>
	<div class="layui-fluid" style="background-color:#000E39" > 	   	
	   	<!-- 内容区 -->
		<div class="layui-row layui-col-space10">
	   		<div class="layui-col-md12 layui-event controller1_content_one">
	   			<div class="controller1_content_one_one" id='controller1_content_one_one'>
	   				<div class="layui-col-md8 layui-show chart-container4"
		style="background-color:#010F4E;width: 100%; height: 100%"  id="my_canv"></div>
	<script type="text/javascript">
		$( function() {
			var myChart = echarts.init($(".chart-container4")[0]);
			var tableData;
			function getCategory(base_data, mark) {
				var orig_category = [];
				for (var i = 0; i < base_data.length; i++) {
					orig_category.push(base_data[i][mark]);
				}
				;
				var count = 0;
				for ( var i in orig_category) {
					for ( var b in orig_category) {
						if (orig_category[i] == orig_category[b] && i != b) {
							delete orig_category[b];
							count++;
						}
					}
					;
				}
				;
				var category = orig_category.sort().slice(0,
						orig_category.length - count);
				return category;
			}
			;
			function changToStandData(base_data, category, Xseries, value) {
				var cate = getCategory(base_data, category);
				var Xser = getCategory(base_data, Xseries);
				var data = [];
				for ( var i in Xser) {
					var series = [];
					series.push(Xser[i]);
					for (var a = 0; a < base_data.length; a++) {
						if (base_data[a][Xseries] == Xser[i]) {
							for (var c = 0; c < cate.length; c++) {
								if (base_data[a][category] == cate[c]) {
									series[c + 1] = base_data[a][value]
								}
							}
						}
					}
					;
					data.push(series);
				}
				;
				cate.unshift("product");
				data.unshift(cate);
				var length = cate.length;
				for (var i = 0; i < data.length; i++) {
					for (var a = 0; a < length; a++) {
						data[i][a] = data[i][a] ? data[i][a] : 0;
					}
				}
				return data;
			}
			;
			$.ajax({
				url : "http://localhost:8080/ssmTest/json/table.json",
				dataType : "json",
				success : function(jsonData) {
					tableData = jsonData.data;
					data = changToStandData(tableData, "city", "year", "age");
					implOption.dataset = {};
					implOption.dataset["source"] = data;
				}
			});
			var implOption = {
				"color" : [ "#143AF7", "#1EA5DD", "#8F2CBD" ],
				"grid" : {
					borderColor: '#ffffff',
					backgroundColor:'#010F4E',
				    left: 30,
				    right:10,
				    bottom:20,
				    top:22,
					"show" : false,
				},
				"title" : {
					"show" : true,
					"text" : "OEE设备综合效率",
					"textStyle" : {
						color: 'white',
						fontSize: 10,
					}
				},
				"tooltip" : {
					"trigger" : "axis"
				},
				"legend" : {
					"show" : false
				},
				"toolbox" : {
					"show" : true
				},
				"xAxis" : {
			         axisLabel:{ //调整x轴的lable  
		                  textStyle:{
		                      fontSize:10,
		                      color: '#FFFFFF',// 让字体变大
		                  }},
					"type" : "category"
				},
				"yAxis" : {			         axisLabel:{ //调整x轴的lable  
	                  textStyle:{
	                      fontSize:10,
	                      color: '#FFFFFF',// 让字体变大
	                  }},
					
					 splitLine:{show: false},//去除网格线
					"type" : "value"
				},
				"dataset" : {
					"source" : [ [ "product", "城市-0", "城市-1", "城市-2" ],
							[ "2009", 57, 68, 43 ], [ "2011", 27, 6, 56 ],
							[ "2013", 31, 87, 73 ], [ null, 0, 0, 0 ],
							[ null, 0, 0, 0 ] ]
				},
				"series" : [ {
					"type" : "bar",
					"markPoint" : {},
					"label" : {
						"show" : false
					}
				}, {
					"type" : "bar",
					"markPoint" : {},
					"label" : {
						"show" : false
					}
				}, {
					"type" : "bar",
					"markPoint" : {},
					"label" : {
						"show" : false
					}
				} ]
			};
			var data;
			myChart.setOption(implOption, true);
		})
	</script>
	   			</div>
	   		</div>
	   	</div>
		<div class="layui-row layui-col-space10">
	   		<div class="layui-col-md6 layui-event">
	   			<div class="controller1_content_two_one" id='controller1_content_two_one'>
	   				<div class="chart-container3"
		style="background-color:#010F4E;width: 100%; height: 100%" id="my_canv"></div>
	<script type="text/javascript">
		$( function() {
			var myChart = echarts.init($(".chart-container3")[0]);
			var tableData;
			function getCategory(base_data, mark) {
				var orig_category = [];
				for (var i = 0; i < base_data.length; i++) {
					orig_category.push(base_data[i][mark]);
				}
				;
				var count = 0;
				for ( var i in orig_category) {
					for ( var b in orig_category) {
						if (orig_category[i] == orig_category[b] && i != b) {
							delete orig_category[b];
							count++;
						}
					}
					;
				}
				;
				var category = orig_category.sort().slice(0,
						orig_category.length - count);
				return category;
			}
			;
			function changToStandData(base_data, category, Xseries, value) {
				var cate = getCategory(base_data, category);
				var Xser = getCategory(base_data, Xseries);
				var data = [];
				for ( var i in Xser) {
					var series = [];
					series.push(Xser[i]);
					for (var a = 0; a < base_data.length; a++) {
						if (base_data[a][Xseries] == Xser[i]) {
							for (var c = 0; c < cate.length; c++) {
								if (base_data[a][category] == cate[c]) {
									series[c + 1] = base_data[a][value]
								}
							}
						}
					}
					;
					data.push(series);
				}
				;
				cate.unshift("product");
				data.unshift(cate);
				var length = cate.length;
				for (var i = 0; i < data.length; i++) {
					for (var a = 0; a < length; a++) {
						data[i][a] = data[i][a] ? data[i][a] : 0;
					}
				}
				return data;
			}
			;
			$.ajax({
				url : "http://localhost:8080/ssmTest/json/table.json",
				dataType : "json",
				success : function(jsonData) {
					tableData = jsonData.data;
					data = changToStandData(tableData, "city", "year", "age");
					implOption.dataset = {};
					implOption.dataset["source"] = data;
				}
			});
			var implOption = {
				"color" : [ "#143AF7", "#1EA5DD", "#8F2CBD" ],
				"grid" : {
					borderColor: '#ffffff',
					backgroundColor:'#010F4E',
				    left: 30,
				    right:10,
				    bottom:20,
				    top:22,
					"show" : false,
				},
				"title" : {
					"show" : true,
					"text" : "设备利用率(开动时间)排名",
					"textStyle" : {
						"fontSize" : "10",
						"color" : "#ffffff"
					}
				},
				"tooltip" : {
					"trigger" : "axis"
				},
				"legend" : {
					textStyle: {
						color: '#ffffff'},
					left: 'left',
					top: 20,
					itemGap:5
				},
				"toolbox" : {
					"show" : true
				},
				"xAxis" : {
			         axisLabel:{ //调整x轴的lable  
		                  textStyle:{
		                      fontSize:10,
		                      color: '#FFFFFF',// 让字体变大
		                  }},
					 splitLine:{show: false},//去除网格线
					"type" : "value"
				},
				"yAxis" : {
			         axisLabel:{ //调整x轴的lable  
		                  textStyle:{
		                      fontSize:10,
		                      color: '#FFFFFF',// 让字体变大
		                  }},
					"type" : "category"
				},
				"dataset" : {
					"source" : [
							[ "product", "Gr0", "Gr1", "Gr2" ],
							[ "2009", 57, 68, 43 ], [ "2011", 27, 6, 56 ],
							[ "2013", 31, 87, 73 ], [ null, 0, 0, 0 ],
							[ null, 0, 0, 0 ] ]
				},
				"series" : [ {
					"type" : "bar",
					"markPoint" : {}
				}, {
					"type" : "bar",
					"markPoint" : {}
				}, {
					"type" : "bar",
					"markPoint" : {}
				} ]
			};
			var data;
			myChart.setOption(implOption, true);
		})
	</script>
			</div>
	   		</div>
	   		<div class="layui-col-md6 layui-event">
	   			<div class="controller1_content_two_two" id='controller1_content_two_two'>
	   				<div class="chart-container5"
		style="background-color:#010F4E;width: 100%; height: 100%" id="my_canv"></div>
	<script type="text/javascript">
		$( function() {
			var myChart = echarts.init($(".chart-container5")[0]);
			var tableData;
			function getCategory(base_data, mark) {
				var orig_category = [];
				for (var i = 0; i < base_data.length; i++) {
					orig_category.push(base_data[i][mark]);
				}
				;
				var count = 0;
				for ( var i in orig_category) {
					for ( var b in orig_category) {
						if (orig_category[i] == orig_category[b] && i != b) {
							delete orig_category[b];
							count++;
						}
					}
					;
				}
				;
				var category = orig_category.sort().slice(0,
						orig_category.length - count);
				return category;
			}
			;
			function changToStandData(base_data, category, Xseries, value) {
				var cate = getCategory(base_data, category);
				var Xser = getCategory(base_data, Xseries);
				var data = [];
				for ( var i in Xser) {
					var series = [];
					series.push(Xser[i]);
					for (var a = 0; a < base_data.length; a++) {
						if (base_data[a][Xseries] == Xser[i]) {
							for (var c = 0; c < cate.length; c++) {
								if (base_data[a][category] == cate[c]) {
									series[c + 1] = base_data[a][value]
								}
							}
						}
					}
					;
					data.push(series);
				}
				;
				cate.unshift("product");
				data.unshift(cate);
				var length = cate.length;
				for (var i = 0; i < data.length; i++) {
					for (var a = 0; a < length; a++) {
						data[i][a] = data[i][a] ? data[i][a] : 0;
					}
				}
				return data;
			}
			;
			$.ajax({
				url : "http://localhost:8080/ssmTest/json/table.json",
				dataType : "json",
				success : function(jsonData) {
					tableData = jsonData.data;
					data = changToStandData(tableData, "city", "year", "age");
					implOption.dataset = {};
					implOption.dataset["source"] = data;
				}
			});
			var implOption = {
				"color" : [ "#143AF7", "#1EA5DD", "#8F2CBD" ],
				"grid" : {
					borderColor: '#ffffff',
					backgroundColor:'#010F4E',
				    left: 35,
				    right:10,
				    bottom:20,
				    top:22,
					"show" : false,
				},
				"title" : {
					"show" : true,
					"text" : "能源利用率排名",
					"textStyle" : {
						"fontSize" : "10",
						"color" : "#ffffff"
					}
				},
				"tooltip" : {
					"trigger" : "axis"
				},
				"legend" : {
					itemGap:5,
					show: false,
				},
				"toolbox" : {
					"show" : true
				},
				"xAxis" : {
			         axisLabel:{ //调整x轴的lable  
		                  textStyle:{
		                      fontSize:10,
		                      color: '#FFFFFF',// 让字体变大
		                  }},
					 splitLine:{show: false},//去除网格线
					"type" : "value"
				},
				"yAxis" : {
			         axisLabel:{ //调整x轴的lable  
		                  textStyle:{
		                      fontSize:8,
		                      color: '#FFFFFF',// 让字体变大
		                  }},
					"type" : "category"
				},
				"dataset" : {
					"source" : [
							[ "product", "MONDAY", "TUSEDAY","WENDEAY", "FRIDAY","SANDAY" ],
							[ "MONDAY", 0.5, 1.5, 2 ], [ "TUSEDAY", 1.5, 2, 3.5 ],
							[ "WENDEAY", 1, 0.5, 2.5 ], [ 'FRIDAY', 1.5, 3, 3.5 ],
							[ 'SANDAY', 3, 1, 2 ] ]
				},
				"series" : [ {
					"type" : "bar",
					"markPoint" : {}
				}, {
					"type" : "bar",
					"markPoint" : {}
				}, {
					"type" : "bar",
					"markPoint" : {}
				} ]
			};
			var data;
			myChart.setOption(implOption, true);
		})
	</script>
	   			</div>	
	   		</div>
	   	</div>
	   	<div class="layui-row layui-col-space10">
	   		<div class="layui-col-md12 layui-event">
	   			<div class="controller1_content_three_one" id='controller1_content_three_one'>
	   				<div class="chart-container1" style="background-color:'#010F4E';width: 100%; height:100%"
		  id="my_canv"></div>
	<script type="text/javascript">
		 $(function() {
			var myChart = echarts.init($(".chart-container1")[0]);
			var tableData;
			function getCategory(base_data, mark) {
				var orig_category = [];
				for (var i = 0; i < base_data.length; i++) {
					orig_category.push(base_data[i][mark]);
				}
				;
				var count = 0;
				for ( var i in orig_category) {
					for ( var b in orig_category) {
						if (orig_category[i] == orig_category[b] && i != b) {
							delete orig_category[b];
							count++;
						}
					}
					;
				}
				;
				var category = orig_category.sort().slice(0,
						orig_category.length - count);
				return category;
			}
			;
			function changToStandData(base_data, category, Xseries, value) {
				var cate = getCategory(base_data, category);
				var Xser = getCategory(base_data, Xseries);
				var data = [];
				for ( var i in Xser) {
					var series = [];
					series.push(Xser[i]);
					for (var a = 0; a < base_data.length; a++) {
						if (base_data[a][Xseries] == Xser[i]) {
							for (var c = 0; c < cate.length; c++) {
								if (base_data[a][category] == cate[c]) {
									series[c + 1] = base_data[a][value]
								}
							}
						}
					}
					;
					data.push(series);
				}
				;
				cate.unshift("product");
				data.unshift(cate);
				var length = cate.length;
				for (var i = 0; i < data.length; i++) {
					for (var a = 0; a < length; a++) {
						data[i][a] = data[i][a] ? data[i][a] : 0;
					}
				}
				return data;
			}
			;
			$.ajax({
				url : "http://localhost:8080/ssmTest/json/table.json",
				dataType : "json",
				success : function(jsonData) {
					tableData = jsonData.data;
					data = changToStandData(tableData, "city", "year", "age");
					implOption.dataset = {};
					implOption.dataset["source"] = data;
				}
			});
			var implOption = {
				"color" : [ "#143AF7", "#1EA5DD", "#8F2CBD" ],
				"grid" : {
					borderColor: '#ffffff',
					backgroundColor:'#010F4E',
				    left: 30,
				    right:10,
				    bottom:20,
				    top:22,
					"show" : false,
				},
				"title" : {
					"show" : true,
					"text" : "MTBF平均故障间隔时间(累计)",
					"textStyle" : {
						color: 'white',
						fontSize: 10,
					}
				},
				"tooltip" : {
					"trigger" : "axis"
				},
				"legend" : {
					"show" : false
				},
				"toolbox" : {
					"show" : true
				},
				"xAxis" : {
		         axisLabel:{ //调整x轴的lable  
		                  textStyle:{
		                      fontSize:10,
		                      color: '#FFFFFF',// 让字体变大
		                  }},
					"type" : "category"
				},
				"yAxis" : {
			         axisLabel:{ //调整x轴的lable  
		                  textStyle:{
		                      fontSize:10,
		                      color: '#FFFFFF',// 让字体变大
		                  }},
					 splitLine:{show: false},//去除网格线
					"type" : "value"
				},
				"dataset" : {
					"source" : [ [ "product", "city-0", "city-1", "city-2" ],
							[ "2009", 57, 68, 43 ], [ "2011", 27, 6, 56 ],
							[ "2013", 31, 87, 73 ], [ null, 0, 0, 0 ],
							[ null, 0, 0, 0 ] ]
				},
				"series" : [ {
					"type" : "bar",
					"markPoint" : {},
					"label" : {
						"show" : false
					}
				}, {
					"type" : "bar",
					"markPoint" : {},
					"label" : {
						"show" : false
					}
				}, {
					"type" : "bar",
					"markPoint" : {},
					"label" : {
						"show" : false
					}
				} ]
			};
			var data;
			myChart.setOption(implOption, true);
		});
	</script>
				</div>
	   		</div>
	   	</div>
	   	
	   	<!-- 底部 
	   	<div class="layui-row layout1-footer-img">
	   		<div class="layui-col-md12 layout1-footer">6/12</div>
	   	</div>
	   	-->	   	
	</div>
</body>
</html>			