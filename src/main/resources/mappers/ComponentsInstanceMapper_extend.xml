<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.zg.dao.inter.ComponentsInstanceMapper_extend">
	<!-- 查询组件实例名称和类型 -->
	<select id="selectComponInsAndType" resultMap="componInsAndTypeMap">
		select 
			a.ctid, a.components_instance_name, a.components_instance_url,
			a.ciid, c.ctyid, c.components_type_name
		from 
			components_instance a LEFT JOIN components_template b ON a.ctid=b.ctid
			LEFT JOIN components_type c ON b.ctyid=c.ctyid
	</select>
	
	<!-- 查询组件实例名称和类型结果映射-->
	<resultMap type="cn.zg.entity.serviceEntity.ComponentsInstanceInfo" id="componInsAndTypeMap">
		<id column= "ciid"  jdbcType = "CHAR"  property = "ciid"/>
		<result column= "components_instance_name"  jdbcType = "VARCHAR"  property = "componentsInstanceName"/>
		<result column= "components_instance_url"  jdbcType = "VARCHAR"  property = "componentsInstanceUrl"/>
		<result column= "ctid"  jdbcType = "VARCHAR"  property = "ctid"/>
		<association  javaType = "cn.zg.entity.daoEntity.ComponentsType"  property="componentsType" >
			<id column= "ctyid" jdbcType = "CHAR"  property = "ctyid" />
			<result column= "components_type_name"  jdbcType = "VARCHAR"  property = "componentsTypeName"/>		
		</association>
	</resultMap>
</mapper>